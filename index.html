<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso Interactivo de Integrales</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- VARIABLES Y RESETEO GENERAL --- */
        :root {
            --bg-main: #121212;
            --bg-panel: #1E1E1E;
            --accent-primary: #00BFFF; /* Azul elÃ©ctrico */
            --accent-secondary: #DA70D6; /* Magenta */
            --text-main: #EAEAEA;
            --text-code: #39FF14; /* Verde menta */
            --border-color: #333;
            --shadow-color: rgba(0, 0, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow: hidden; /* Evita el scroll en el body */
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            line-height: 1.7;
        }

        /* --- LAYOUT PRINCIPAL --- */
        .app-container {
            display: flex;
            height: 100vh;
        }

        /* --- BARRA LATERAL (NAVEGACIÃ“N) --- */
        .sidebar {
            width: 25%;
            min-width: 280px;
            background-color: var(--bg-panel);
            border-right: 1px solid var(--border-color);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .logo-icon {
            font-size: 2.5rem;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-main);
        }

        .sidebar h2 {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-primary);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .nav-list {
            list-style: none;
        }

        .nav-list li a {
            display: block;
            padding: 0.8rem 1rem;
            text-decoration: none;
            color: var(--text-main);
            font-weight: 400;
            border-radius: 8px;
            transition: background-color 0.3s ease, color 0.3s ease;
            margin-bottom: 0.5rem;
        }

        .nav-list li a:hover {
            background-color: rgba(0, 191, 255, 0.1);
        }

        .nav-list li a.active {
            background-color: var(--accent-primary);
            color: var(--bg-main);
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 191, 255, 0.2);
        }
        
        .btn-print {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background-color: var(--accent-secondary);
            color: white;
            border: none;
            padding: 0.7rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            width: 100%;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .btn-print:hover {
            background-color: #c45db1;
        }

        /* --- PANEL DE CONTENIDO --- */
        .content-panel {
            width: 75%;
            padding: 3rem;
            overflow-y: auto; /* Permite scroll solo en esta Ã¡rea */
        }

        .chapter-content {
            display: none; /* Oculto por defecto */
        }

        .chapter-content.active {
            display: block; /* Visible cuando estÃ¡ activo */
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chapter-content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-main);
        }

        .chapter-content h1 .accent-char {
            color: var(--accent-primary);
        }

        .intro-text {
            font-size: 1.1rem;
            color: #b0b0b0;
            margin-bottom: 2.5rem;
            max-width: 80ch;
        }

        /* --- TARJETAS DE CONTENIDO --- */
        .card {
            background-color: var(--bg-panel);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px var(--shadow-color);
            overflow: hidden;
        }

        .card h2 {
            font-size: 1.5rem;
            color: var(--accent-primary);
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .card.note h2 { color: var(--accent-secondary); }
        .card.app h2 { color: #39FF14; }

        .card p, .card li {
            font-size: 1rem;
            color: var(--text-main);
        }
        
        .card strong {
            color: var(--accent-primary);
            font-weight: 600;
        }

        .card ol, .card ul {
            padding-left: 20px;
            margin-top: 1rem;
        }

        pre {
            background-color: var(--bg-main);
            color: var(--text-code);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', Courier, monospace;
            font-size: 1rem;
        }

        /* --- SECCIÃ“N DE QUIZ --- */
        .quiz-section {
            border-top: 2px solid var(--accent-primary);
            margin-top: 3rem;
            padding-top: 2rem;
        }

        .quiz-section h2 {
            font-size: 1.8rem;
            color: var(--text-main);
            margin-bottom: 2rem;
        }

        .question {
            margin-bottom: 2rem;
        }

        .question p {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .options label {
            display: block;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }
        
        .solution {
            display: none;
            background-color: rgba(57, 255, 20, 0.1);
            border-left: 4px solid var(--text-code);
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 4px;
        }
        
        .solution p {
            color: var(--text-code);
            font-weight: bold;
        }

        .btn-solution {
            background-color: var(--accent-secondary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 0.5rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        .btn-solution:hover {
            background-color: #c45db1;
        }

        /* --- ELEMENTO INTERACTIVO: SUMA DE RIEMANN --- */
        .interactive-container {
            text-align: center;
        }

        #riemann-canvas {
            background-color: #fff;
            border-radius: 8px;
            width: 100%;
            max-width: 600px;
            height: auto;
            aspect-ratio: 1.5 / 1;
        }
        
        .controls {
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            width: 100%;
            max-width: 500px;
        }

        .slider-container label {
            font-weight: 600;
        }

        #n-slider {
            width: 100%;
            cursor: pointer;
        }
        
        .info-display {
            font-size: 1.1rem;
            font-weight: 600;
            background-color: var(--bg-main);
            padding: 1rem;
            border-radius: 8px;
            min-width: 300px;
        }

        .info-display span {
            color: var(--accent-secondary);
        }

        /* --- RESPONSIVE DESIGN --- */
        @media (max-width: 1024px) {
            .app-container {
                flex-direction: column;
                height: auto;
            }
            .sidebar {
                width: 100%;
                height: auto;
                min-width: unset;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
            .content-panel {
                width: 100%;
                height: auto;
                padding: 1.5rem;
            }
            body, html {
                overflow: auto;
            }
        }
        
        @media print {
            .sidebar {
                display: none;
            }
            .content-panel {
                width: 100%;
                padding: 0;
            }
            .card {
                box-shadow: none;
                border: 1px solid #ccc;
            }
            .quiz-section h2, .btn-solution, .interactive-container {
                display: none;
            }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <!-- BARRA LATERAL DE NAVEGACIÃ“N -->
        <aside class="sidebar">
            <div class="logo">
                <span class="logo-icon">âˆ«</span>
                <h1>Curso de Integrales</h1>
            </div>
            <button id="print-pdf-btn" class="btn-print">ğŸ–¨ï¸ Imprimir Resumen</button>
            <h2>Temario del Curso</h2>
            <nav>
                <ul class="nav-list">
                    <li><a href="#cap1" class="nav-link active">Cap. 1: Integrales Indefinidas</a></li>
                    <li><a href="#cap2" class="nav-link">Cap. 2: Conceptos Fundamentales</a></li>
                    <li><a href="#cap3" class="nav-link">Cap. 3: Propiedades de las Integrales</a></li>
                    <li><a href="#cap4" class="nav-link">Cap. 4: Integrales Inmediatas</a></li>
                    <li><a href="#cap5" class="nav-link">Cap. 5: Por Cambio de Variable</a></li>
                    <li><a href="#cap6" class="nav-link">Cap. 6: Integrales por Partes</a></li>
                    <li><a href="#cap7" class="nav-link">Cap. 7: Integral Definida</a></li>
                </ul>
            </nav>
        </aside>

        <!-- PANEL PRINCIPAL DE CONTENIDO -->
        <main class="content-panel">

            <!-- CAPÃTULO 1 -->
            <div id="cap1" class="chapter-content active">
                <h1><span class="accent-char">1.</span> Integrales Indefinidas ğŸ“ˆ</h1>
                <p class="intro-text">Â¡Bienvenido al punto de partida! AquÃ­ descubrirÃ¡s que la integraciÃ³n es como viajar en el tiempo... Â¡pero con funciones! Es el proceso inverso a la derivaciÃ³n. Â¡Vamos a ello!</p>
                
                <div class="card definition">
                  <h2>ğŸ§  DefiniciÃ³n: Antiderivada</h2>
                  <p>Una funciÃ³n <strong>F(x)</strong> es una <strong>antiderivada</strong> o <strong>integral indefinida</strong> de <strong>f(x)</strong> si la derivada de F(x) es igual a f(x). Es decir, <strong>F'(x) = f(x)</strong>. Como la derivada de una constante es cero, siempre aÃ±adimos una "constante de integraciÃ³n" <strong>C</strong>.</p>
                  <pre><code>âˆ« f(x) dx = F(x) + C</code></pre>
                </div>

                <div class="card example">
                  <h2>âœï¸ Ejemplo Resuelto: Paso a Paso</h2>
                  <p>Vamos a encontrar la integral indefinida de <strong>f(x) = 3xÂ²</strong>.</p>
                  <ol>
                    <li><strong>Identificamos el integrando:</strong> La funciÃ³n a integrar es 3xÂ².</li>
                    <li><strong>Pensamos al revÃ©s:</strong> Â¿QuÃ© funciÃ³n, al derivarla, nos da 3xÂ²? Si recordamos las reglas de derivaciÃ³n, la derivada de xÂ³ es 3xÂ².</li>
                    <li><strong>AÃ±adimos la constante:</strong> No podemos olvidar la constante de integraciÃ³n C, ya que la derivada de xÂ³ + 5 (o cualquier constante) tambiÃ©n es 3xÂ².</li>
                    <li><strong>Resultado:</strong> La integral es xÂ³ + C.</li>
                  </ol>
                  <pre><code>âˆ« 3xÂ² dx = xÂ³ + C</code></pre>
                </div>
                
                <div class="card note">
                  <h2>ğŸ’¡ Nota HistÃ³rica</h2>
                  <p>El concepto de integral fue desarrollado de forma independiente por <strong>Isaac Newton</strong> y <strong>Gottfried Leibniz</strong> en el siglo XVII. Mientras Newton lo veÃ­a desde la fÃ­sica (fluxiones), Leibniz introdujo la notaciÃ³n <strong>âˆ«</strong> que usamos hoy, Â¡y que representa una "S" alargada de "suma"!</p>
                </div>

                <div class="quiz-section">
                  <h2>ğŸš€ Â¡A Prueba! DesafÃ­a tus Conocimientos</h2>
                  <div class="question">
                      <p>1. Â¿QuÃ© representa la "C" en la integral indefinida?</p>
                      <div class="options">
                          <label><input type="radio" name="q1_1"> a) Una constante de cÃ¡lculo.</label>
                          <label><input type="radio" name="q1_1"> b) La constante de integraciÃ³n, que representa una familia de funciones.</label>
                          <label><input type="radio" name="q1_1"> c) El coeficiente principal.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>2. La integraciÃ³n es el proceso inverso a...</p>
                      <div class="options">
                          <label><input type="radio" name="q1_2"> a) La derivaciÃ³n.</label>
                          <label><input type="radio" name="q1_2"> b) La suma.</label>
                          <label><input type="radio" name="q1_2"> c) La exponenciaciÃ³n.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>3. (PrÃ¡ctica) Calcula: âˆ« 5 dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: 5x + C</p></div>
                  </div>
                   <div class="question">
                      <p>4. (PrÃ¡ctica) Calcula: âˆ« xâ´ dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: (xâµ / 5) + C</p></div>
                  </div>
                   <div class="question">
                      <p>5. (PrÃ¡ctica) Calcula: âˆ« cos(x) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: sin(x) + C</p></div>
                  </div>
                </div>
            </div>

            <!-- CAPÃTULO 2 -->
            <div id="cap2" class="chapter-content">
                <h1><span class="accent-char">2.</span> Conceptos Fundamentales ğŸ›ï¸</h1>
                <p class="intro-text">Para dominar las integrales, primero debemos hablar el mismo idioma. AquÃ­ sentaremos las bases y definiremos las partes clave de una integral.</p>
                
                <div class="card definition">
                  <h2>ğŸ§  AnatomÃ­a de una Integral</h2>
                  <p>Vamos a desglosar la expresiÃ³n de una integral indefinida:</p>
                  <pre><code>âˆ« f(x) dx</code></pre>
                  <ul>
                    <li><strong>âˆ«:</strong> Es el <strong>sÃ­mbolo de integraciÃ³n</strong>.</li>
                    <li><strong>f(x):</strong> Es el <strong>integrando</strong>, la funciÃ³n que queremos integrar.</li>
                    <li><strong>dx:</strong> Es el <strong>diferencial</strong> de x. Nos indica que la variable de integraciÃ³n es 'x'. Â¡Es crucial y no puedes olvidarlo!</li>
                  </ul>
                </div>
                
                <div class="card app">
                    <h2>ğŸ’» AplicaciÃ³n en Ciencias de la ComputaciÃ³n</h2>
                    <p>En computaciÃ³n grÃ¡fica, las integrales se usan para calcular la iluminaciÃ³n y el sombreado en modelos 3D. El "path tracing" simula cÃ³mo la luz rebota en una escena, y en su nÃºcleo, Â¡estÃ¡ resolviendo una compleja integral de renderizado!</p>
                </div>
                
                <div class="quiz-section">
                  <h2>ğŸš€ Â¡A Prueba! DesafÃ­a tus Conocimientos</h2>
                   <div class="question">
                      <p>1. En la expresiÃ³n âˆ« 2x dx, Â¿quÃ© es "2x"?</p>
                      <div class="options">
                          <label><input type="radio" name="q2_1"> a) El diferencial.</label>
                          <label><input type="radio" name="q2_1"> b) El integrando.</label>
                          <label><input type="radio" name="q2_1"> c) La constante de integraciÃ³n.</label>
                      </div>
                  </div>
                   <div class="question">
                      <p>2. Â¿QuÃ© nos indica el "dx"?</p>
                      <div class="options">
                          <label><input type="radio" name="q2_2"> a) Que la funciÃ³n es difÃ­cil.</label>
                          <label><input type="radio" name="q2_2"> b) Que la variable de integraciÃ³n es x.</label>
                          <label><input type="radio" name="q2_2"> c) Es solo decoraciÃ³n.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>3. (PrÃ¡ctica) Identifica el integrando en: âˆ« (xÂ² + 4x - 1) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: El integrando es xÂ² + 4x - 1.</p></div>
                  </div>
                   <div class="question">
                      <p>4. (PrÃ¡ctica) Identifica la variable de integraciÃ³n en: âˆ« eáµ— dt</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: La variable de integraciÃ³n es t.</p></div>
                  </div>
                   <div class="question">
                      <p>5. (PrÃ¡ctica) Escribe la expresiÃ³n para integrar la funciÃ³n g(z) con respecto a z.</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: âˆ« g(z) dz</p></div>
                  </div>
                </div>
            </div>
            
            <!-- CAPÃTULO 3 -->
            <div id="cap3" class="chapter-content">
                <h1><span class="accent-char">3.</span> Propiedades de las Integrales ğŸ“œ</h1>
                <p class="intro-text">Las integrales tienen reglas, Â¡y conocerlas es tu superpoder! Estas propiedades te permitirÃ¡n descomponer problemas complejos en partes mÃ¡s sencillas.</p>

                <div class="card definition">
                  <h2>ğŸ§  Propiedades Clave</h2>
                  <p>AquÃ­ tienes las dos reglas mÃ¡s importantes de la integraciÃ³n:</p>
                  <ol>
                    <li><strong>Suma/Resta:</strong> La integral de una suma (o resta) es la suma (o resta) de las integrales. Te permite dividir y conquistar.
                        <pre><code>âˆ« [f(x) Â± g(x)] dx = âˆ« f(x) dx Â± âˆ« g(x) dx</code></pre>
                    </li>
                    <li><strong>Factor Constante:</strong> Puedes "sacar" las constantes que multiplican fuera de la integral. Â¡Esto simplifica mucho las cosas!
                        <pre><code>âˆ« k * f(x) dx = k * âˆ« f(x) dx</code></pre>
                    </li>
                  </ol>
                </div>

                <div class="card example">
                  <h2>âœï¸ Ejemplo de AplicaciÃ³n</h2>
                  <p>Calculemos <strong>âˆ« (4xÂ³ - 6) dx</strong> usando las propiedades:</p>
                  <ol>
                    <li><strong>Separamos la resta (Propiedad 1):</strong><br> âˆ« 4xÂ³ dx - âˆ« 6 dx</li>
                    <li><strong>Sacamos las constantes (Propiedad 2):</strong><br> 4 * âˆ« xÂ³ dx - 6 * âˆ« 1 dx</li>
                    <li><strong>Integramos cada parte:</strong><br> 4 * (xâ´/4) - 6 * (x)</li>
                    <li><strong>Simplificamos y aÃ±adimos C:</strong><br> xâ´ - 6x + C</li>
                  </ol>
                </div>

                <div class="quiz-section">
                  <h2>ğŸš€ Â¡A Prueba! DesafÃ­a tus Conocimientos</h2>
                  <div class="question">
                      <p>1. Â¿QuÃ© propiedad usas para simplificar âˆ« 7sin(x) dx?</p>
                      <div class="options">
                          <label><input type="radio" name="q3_1"> a) Propiedad de la suma.</label>
                          <label><input type="radio" name="q3_1"> b) Propiedad del factor constante.</label>
                          <label><input type="radio" name="q3_1"> c) Ninguna, no se puede simplificar.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>2. La expresiÃ³n âˆ« x dx + âˆ« eË£ dx es equivalente a:</p>
                      <div class="options">
                          <label><input type="radio" name="q3_2"> a) âˆ« (x * eË£) dx</label>
                          <label><input type="radio" name="q3_2"> b) âˆ« (x + eË£) dx</label>
                          <label><input type="radio" name="q3_2"> c) No son equivalentes.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>3. (PrÃ¡ctica) Usa las propiedades para reescribir: âˆ« (5xÂ² + 2x) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: 5 * âˆ« xÂ² dx + 2 * âˆ« x dx</p></div>
                  </div>
                   <div class="question">
                      <p>4. (PrÃ¡ctica) Calcula: âˆ« 8eË£ dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: 8eË£ + C</p></div>
                  </div>
                   <div class="question">
                      <p>5. (PrÃ¡ctica) Calcula: âˆ« (2cos(x) - 3xÂ²) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: 2sin(x) - xÂ³ + C</p></div>
                  </div>
                </div>
            </div>

            <!-- CAPÃTULO 4 -->
            <div id="cap4" class="chapter-content">
                <h1><span class="accent-char">4.</span> Integrales Inmediatas âš¡</h1>
                <p class="intro-text">Estas son las integrales que debes conocer de memoria. Son tus herramientas bÃ¡sicas, como saber las tablas de multiplicar. Â¡Vamos a dominarlas!</p>

                <div class="card definition">
                  <h2>ğŸ§  Tabla de Integrales BÃ¡sicas</h2>
                  <p>AquÃ­ tienes una lista de las integrales mÃ¡s comunes. Â¡AprÃ©ndetelas bien!</p>
                  <ul>
                    <li><strong>Regla de la Potencia:</strong> <pre><code>âˆ« xâ¿ dx = (xâ¿âºÂ¹ / (n+1)) + C  (si n â‰  -1)</code></pre></li>
                    <li><strong>Caso especial n=-1:</strong> <pre><code>âˆ« (1/x) dx = ln|x| + C</code></pre></li>
                    <li><strong>Exponencial:</strong> <pre><code>âˆ« eË£ dx = eË£ + C</code></pre></li>
                    <li><strong>TrigonomÃ©tricas:</strong>
                        <pre><code>âˆ« cos(x) dx = sin(x) + C
âˆ« sin(x) dx = -cos(x) + C
âˆ« secÂ²(x) dx = tan(x) + C</code></pre>
                    </li>
                  </ul>
                </div>

                <div class="card example">
                  <h2>âœï¸ Ejemplo RÃ¡pido</h2>
                  <p>Calcular <strong>âˆ« (xÂ³ + 1/x) dx</strong>.</p>
                  <ol>
                    <li><strong>Separamos la integral:</strong> âˆ« xÂ³ dx + âˆ« (1/x) dx</li>
                    <li><strong>Aplicamos la regla de la potencia a la primera parte:</strong> (xâ´ / 4)</li>
                    <li><strong>Aplicamos la regla del logaritmo a la segunda:</strong> ln|x|</li>
                    <li><strong>Unimos todo con la constante C:</strong> (xâ´ / 4) + ln|x| + C</li>
                  </ol>
                </div>

                <div class="quiz-section">
                  <h2>ğŸš€ Â¡A Prueba! DesafÃ­a tus Conocimientos</h2>
                  <!-- Quiz para Cap 4 -->
                  <div class="question">
                      <p>1. Â¿CuÃ¡l es la integral de xâ»Â¹?</p>
                      <div class="options">
                          <label><input type="radio" name="q4_1"> a) xâ° + C</label>
                          <label><input type="radio" name="q4_1"> b) ln|x| + C</label>
                          <label><input type="radio" name="q4_1"> c) -xâ»Â² + C</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>2. La integral de sin(x) es:</p>
                      <div class="options">
                          <label><input type="radio" name="q4_2"> a) cos(x) + C</label>
                          <label><input type="radio" name="q4_2"> b) -cos(x) + C</label>
                          <label><input type="radio" name="q4_2"> c) tan(x) + C</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>3. (PrÃ¡ctica) Calcula: âˆ« âˆšx dx  (Pista: âˆšx = xÂ¹/Â²)</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: (2/3)xÂ³/Â² + C</p></div>
                  </div>
                   <div class="question">
                      <p>4. (PrÃ¡ctica) Calcula: âˆ« (eË£ + 2) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: eË£ + 2x + C</p></div>
                  </div>
                   <div class="question">
                      <p>5. (PrÃ¡ctica) Calcula: âˆ« 1/xÂ² dx (Pista: 1/xÂ² = xâ»Â²)</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: -1/x + C</p></div>
                  </div>
                </div>
            </div>

            <!-- CAPÃTULO 5 -->
            <div id="cap5" class="chapter-content">
                <h1><span class="accent-char">5.</span> Integrales por Cambio de Variable ğŸ”„</h1>
                <p class="intro-text">Esta es la "regla de la cadena" pero para integrar. Es una tÃ©cnica sÃºper poderosa para transformar una integral complicada en una inmediata.</p>

                <div class="card definition">
                  <h2>ğŸ§  El MÃ©todo: SustituciÃ³n o Cambio de Variable</h2>
                  <p>La idea es simplificar el integrando. Seguimos estos pasos:</p>
                  <ol>
                    <li><strong>Elige 'u':</strong> Busca una parte de la integral (normalmente dentro de un parÃ©ntesis, raÃ­z o exponente) cuya derivada tambiÃ©n aparezca en la integral. Llama a esa parte <strong>u</strong>.</li>
                    <li><strong>Calcula 'du':</strong> Deriva 'u' para encontrar <strong>du</strong>. (du = u' dx).</li>
                    <li><strong>Sustituye:</strong> Reemplaza todo en la integral original en tÃ©rminos de 'u' y 'du'. Si lo hiciste bien, la nueva integral serÃ¡ mucho mÃ¡s fÃ¡cil.</li>
                    <li><strong>Integra:</strong> Resuelve la nueva integral con respecto a 'u'.</li>
                    <li><strong>Deshaz el cambio:</strong> Vuelve a sustituir 'u' por su expresiÃ³n original en 'x'.</li>
                  </ol>
                </div>

                <div class="card example">
                  <h2>âœï¸ Ejemplo: âˆ« 2x * (xÂ² + 1)âµ dx</h2>
                  <ol>
                    <li><strong>Elige u:</strong> La parte "interna" es (xÂ² + 1). AsÃ­ que, <strong>u = xÂ² + 1</strong>.</li>
                    <li><strong>Calcula du:</strong> La derivada de u es 2x. Por tanto, <strong>du = 2x dx</strong>.</li>
                    <li><strong>Sustituye:</strong> FÃ­jate que tenemos (xÂ² + 1) que es 'u', y '2x dx' que es 'du'. La integral se convierte en: <strong>âˆ« uâµ du</strong>.</li>
                    <li><strong>Integra:</strong> Â¡Esta es inmediata! La integral es <strong>uâ¶ / 6 + C</strong>.</li>
                    <li><strong>Deshaz el cambio:</strong> Sustituye u de vuelta: <strong>(xÂ² + 1)â¶ / 6 + C</strong>.</li>
                  </ol>
                </div>
                
                <div class="quiz-section">
                  <h2>ğŸš€ Â¡A Prueba! DesafÃ­a tus Conocimientos</h2>
                  <!-- Quiz para Cap 5 -->
                  <div class="question">
                      <p>1. Â¿CuÃ¡l es el objetivo principal del cambio de variable?</p>
                      <div class="options">
                          <label><input type="radio" name="q5_1"> a) Hacer la integral mÃ¡s larga.</label>
                          <label><input type="radio" name="q5_1"> b) Comprobar si sabes derivar.</label>
                          <label><input type="radio" name="q5_1"> c) Simplificar el integrando a una forma mÃ¡s bÃ¡sica.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>2. En âˆ« cos(3x+2) dx, Â¿cuÃ¡l serÃ­a una buena elecciÃ³n para 'u'?</p>
                      <div class="options">
                          <label><input type="radio" name="q5_2"> a) u = cos(x)</label>
                          <label><input type="radio" name="q5_2"> b) u = 3x+2</label>
                          <label><input type="radio" name="q5_2"> c) u = x</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>3. (PrÃ¡ctica) Calcula: âˆ« (x+1)â´ dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: ((x+1)âµ / 5) + C</p></div>
                  </div>
                   <div class="question">
                      <p>4. (PrÃ¡ctica) Calcula: âˆ« eâµË£ dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: (1/5)eâµË£ + C</p></div>
                  </div>
                   <div class="question">
                      <p>5. (PrÃ¡ctica) Calcula: âˆ« 3xÂ² * sin(xÂ³) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: -cos(xÂ³) + C</p></div>
                  </div>
                </div>
            </div>

            <!-- CAPÃTULO 6 -->
            <div id="cap6" class="chapter-content">
                <h1><span class="accent-char">6.</span> Integrales por Partes ğŸ‘¯</h1>
                <p class="intro-text">Esta tÃ©cnica se usa cuando tienes el producto de dos funciones. La clave es una famosa fÃ³rmula que te ayudarÃ¡ a recordarla: "Un DÃ­a Vi Una Vaca Vestida De Uniforme".</p>

                <div class="card definition">
                  <h2>ğŸ§  La FÃ³rmula de IntegraciÃ³n por Partes</h2>
                  <p>Derivada de la regla del producto para derivar, la fÃ³rmula es:</p>
                  <pre><code>âˆ« u dv = u * v - âˆ« v du</code></pre>
                  <p>El truco estÃ¡ en elegir correctamente quÃ© parte de tu integral original serÃ¡ 'u' y quÃ© parte serÃ¡ 'dv'. Una buena regla general es la regla <strong>LIATE</strong> (LogarÃ­tmicas, Inversas, Algebraicas, TrigonomÃ©tricas, Exponenciales). Elige 'u' segÃºn lo que aparezca primero en esa lista.</p>
                </div>

                <div class="card example">
                  <h2>âœï¸ Ejemplo: âˆ« x * eË£ dx</h2>
                  <ol>
                    <li><strong>Elige u y dv:</strong> Siguiendo LIATE, 'x' es Algebraica y 'eË£' es Exponencial. AsÃ­ que elegimos <strong>u = x</strong> y <strong>dv = eË£ dx</strong>.</li>
                    <li><strong>Calcula du y v:</strong>
                        <ul>
                            <li>Si u = x, entonces <strong>du = dx</strong>.</li>
                            <li>Si dv = eË£ dx, integramos para encontrar v: <strong>v = âˆ« eË£ dx = eË£</strong>.</li>
                        </ul>
                    </li>
                    <li><strong>Aplica la fÃ³rmula:</strong> âˆ« u dv = u*v - âˆ« v du</li>
                    <li><strong>Sustituye:</strong> âˆ« x * eË£ dx = x*eË£ - âˆ« eË£ dx</li>
                    <li><strong>Resuelve la integral restante:</strong> La integral de eË£ es simplemente eË£.</li>
                    <li><strong>Resultado final:</strong> x*eË£ - eË£ + C</li>
                  </ol>
                </div>

                <div class="quiz-section">
                  <h2>ğŸš€ Â¡A Prueba! DesafÃ­a tus Conocimientos</h2>
                  <!-- Quiz para Cap 6 -->
                  <div class="question">
                      <p>1. Â¿CuÃ¡ndo es mÃ¡s Ãºtil la integraciÃ³n por partes?</p>
                      <div class="options">
                          <label><input type="radio" name="q6_1"> a) Para integrar una suma de funciones.</label>
                          <label><input type="radio" name="q6_1"> b) Para integrar un producto de funciones.</label>
                          <label><input type="radio" name="q6_1"> c) Cuando la integral es inmediata.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>2. En âˆ« x * cos(x) dx, Â¿cuÃ¡l es la mejor elecciÃ³n para 'u' segÃºn LIATE?</p>
                      <div class="options">
                          <label><input type="radio" name="q6_2"> a) u = cos(x)</label>
                          <label><input type="radio" name="q6_2"> b) u = x * cos(x)</label>
                          <label><input type="radio" name="q6_2"> c) u = x</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>3. (PrÃ¡ctica) Calcula: âˆ« x * sin(x) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: -x*cos(x) + sin(x) + C</p></div>
                  </div>
                   <div class="question">
                      <p>4. (PrÃ¡ctica) Calcula: âˆ« ln(x) dx (Pista: u=ln(x), dv=dx)</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: x*ln(x) - x + C</p></div>
                  </div>
                   <div class="question">
                      <p>5. (PrÃ¡ctica) En âˆ« xÂ² * eË£ dx, Â¿cuÃ¡ntas veces tendrÃ­as que aplicar integraciÃ³n por partes?</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: Dos veces. La primera reduce xÂ² a x, y la segunda reduce x a 1.</p></div>
                  </div>
                </div>
            </div>

            <!-- CAPÃTULO 7 -->
            <div id="cap7" class="chapter-content">
                <h1><span class="accent-char">7.</span> Integral Definida  à¤à¤°à¤¿à¤¯à¤¾</h1>
                <p class="intro-text">Ahora le damos un propÃ³sito concreto a la integral: calcular valores numÃ©ricos, como el Ã¡rea bajo una curva. Â¡AquÃ­ es donde todo cobra sentido!</p>

                <div class="card definition">
                  <h2>ğŸ§  DefiniciÃ³n: Integral Definida y Teorema Fundamental del CÃ¡lculo</h2>
                  <p>Una integral definida tiene <strong>lÃ­mites de integraciÃ³n</strong> (un valor inicial 'a' y un valor final 'b'). El resultado no es una familia de funciones, sino un <strong>nÃºmero</strong>.</p>
                  <pre><code>âˆ«â‚áµ‡ f(x) dx</code></pre>
                  <p>El <strong>Segundo Teorema Fundamental del CÃ¡lculo</strong> nos da la receta para resolverla:</p>
                  <ol>
                    <li>Encuentra la antiderivada F(x) de f(x) (como en las integrales indefinidas, pero sin la C).</li>
                    <li>EvalÃºa F(x) en el lÃ­mite superior 'b': F(b).</li>
                    <li>EvalÃºa F(x) en el lÃ­mite inferior 'a': F(a).</li>
                    <li>Resta los dos valores: <strong>F(b) - F(a)</strong>.</li>
                  </ol>
                </div>
                
                <div class="card example">
                  <h2>âœï¸ Ejemplo: âˆ«â‚€Â² xÂ² dx</h2>
                  <ol>
                    <li><strong>Antiderivada:</strong> La integral de xÂ² es F(x) = xÂ³/3.</li>
                    <li><strong>Evaluar en b=2:</strong> F(2) = 2Â³/3 = 8/3.</li>
                    <li><strong>Evaluar en a=0:</strong> F(0) = 0Â³/3 = 0.</li>
                    <li><strong>Restar:</strong> F(2) - F(0) = 8/3 - 0 = 8/3 â‰ˆ 2.67.</li>
                  </ol>
                </div>

                <div class="card interactive">
                  <h2>ğŸ’» Â¡Visualiza la Suma de Riemann!</h2>
                  <p>La integral definida es el lÃ­mite de una suma de Ã¡reas de rectÃ¡ngulos (Suma de Riemann) cuando el nÃºmero de rectÃ¡ngulos tiende a infinito. Â¡Juega con el deslizador para ver cÃ³mo la aproximaciÃ³n mejora a medida que aumentas el nÃºmero de rectÃ¡ngulos 'n'!</p>
                  <div class="interactive-container">
                      <canvas id="riemann-canvas"></canvas>
                      <div class="controls">
                          <div class="slider-container">
                              <label for="n-slider">n = <span id="n-value">4</span></label>
                              <input type="range" min="4" max="100" value="4" class="slider" id="n-slider">
                          </div>
                          <div class="info-display">
                              <p>Ãrea Aproximada: <span id="approx-area">...</span></p>
                              <p>Ãrea Real (Integral): <span>2.67</span></p>
                          </div>
                      </div>
                  </div>
                </div>

                <div class="quiz-section">
                  <h2>ğŸš€ Â¡A Prueba! DesafÃ­a tus Conocimientos</h2>
                  <!-- Quiz para Cap 7 -->
                  <div class="question">
                      <p>1. Â¿CuÃ¡l es el resultado de una integral definida?</p>
                      <div class="options">
                          <label><input type="radio" name="q7_1"> a) Una funciÃ³n con "+ C".</label>
                          <label><input type="radio" name="q7_1"> b) Un nÃºmero.</label>
                          <label><input type="radio" name="q7_1"> c) Otra integral.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>2. Â¿QuÃ© representa geomÃ©tricamente la integral definida âˆ«â‚áµ‡ f(x) dx si f(x) > 0?</p>
                      <div class="options">
                          <label><input type="radio" name="q7_2"> a) La pendiente de la curva.</label>
                          <label><input type="radio" name="q7_2"> b) La longitud de la curva.</label>
                          <label><input type="radio" name="q7_2"> c) El Ã¡rea bajo la curva entre x=a y x=b.</label>
                      </div>
                  </div>
                  <div class="question">
                      <p>3. (PrÃ¡ctica) Calcula: âˆ«â‚€Â¹ 2x dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: 1</p></div>
                  </div>
                   <div class="question">
                      <p>4. (PrÃ¡ctica) Calcula: âˆ«â‚áµ‰ (1/x) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: 1 (porque ln(e) - ln(1) = 1 - 0)</p></div>
                  </div>
                   <div class="question">
                      <p>5. (PrÃ¡ctica) Calcula: âˆ«â‚€á´¨ cos(x) dx</p>
                      <button class="btn-solution">Ver SoluciÃ³n</button>
                      <div class="solution"><p>Respuesta: 0 (porque sin(Ï€) - sin(0) = 0 - 0)</p></div>
                  </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- NAVEGACIÃ“N ENTRE CAPÃTULOS ---
            const navLinks = document.querySelectorAll('.nav-link');
            const chapters = document.querySelectorAll('.chapter-content');

            function switchChapter(hash) {
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.hash === hash);
                });
                chapters.forEach(chapter => {
                    chapter.classList.toggle('active', '#' + chapter.id === hash);
                });
            }

            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetHash = this.hash;
                    switchChapter(targetHash);
                });
            });

            // --- LÃ“GICA DE LOS BOTONES DE SOLUCIÃ“N ---
            const solutionButtons = document.querySelectorAll('.btn-solution');
            solutionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const solutionDiv = this.nextElementSibling;
                    if (solutionDiv && solutionDiv.classList.contains('solution')) {
                        const isVisible = solutionDiv.style.display === 'block';
                        solutionDiv.style.display = isVisible ? 'none' : 'block';
                        this.textContent = isVisible ? 'Ver SoluciÃ³n' : 'Ocultar SoluciÃ³n';
                    }
                });
            });

            // --- LÃ“GICA DEL BOTÃ“N DE IMPRESIÃ“N ---
            const printButton = document.getElementById('print-pdf-btn');
            if(printButton) {
                printButton.addEventListener('click', function() {
                    // En una aplicaciÃ³n real, aquÃ­ se podrÃ­a generar un PDF especÃ­fico
                    // o enlazar a un archivo PDF preexistente (como 'placeholder.pdf').
                    // Para esta demostraciÃ³n, simplemente abriremos el diÃ¡logo de impresiÃ³n del navegador
                    // para la pÃ¡gina actual.
                    //window.print();
                    window.open('integral_calculus_formula_sheet.pdf', '_blank');
                });
            }

            // --- LÃ“GICA DE LA SUMA DE RIEMANN ---
            const slider = document.getElementById('n-slider');
            const nValueSpan = document.getElementById('n-value');
            const approxAreaSpan = document.getElementById('approx-area');
            const canvas = document.getElementById('riemann-canvas');
            
            if (canvas) {
                const ctx = canvas.getContext('2d');
                
                const func = x => x * x; // f(x) = x^2
                const a = 0;
                const b = 2;
                const yMax = func(b);

                function drawRiemannSum(n) {
                    const rect = canvas.getBoundingClientRect();
                    canvas.width = rect.width * devicePixelRatio;
                    canvas.height = rect.height * devicePixelRatio;
                    ctx.scale(devicePixelRatio, devicePixelRatio);

                    const canvasWidth = canvas.clientWidth;
                    const canvasHeight = canvas.clientHeight;

                    ctx.clearRect(0, 0, canvasWidth, canvasHeight);

                    const deltaX = (b - a) / n;
                    let approxArea = 0;

                    const mapX = x => (x - a) / (b - a) * canvasWidth;
                    const mapY = y => canvasHeight - (y / yMax * canvasHeight);

                    ctx.strokeStyle = '#333';
                    ctx.fillStyle = 'rgba(0, 191, 255, 0.5)';
                    for (let i = 0; i < n; i++) {
                        const x_i = a + i * deltaX;
                        const y_i = func(x_i + deltaX);
                        approxArea += y_i * deltaX;

                        const canvasX = mapX(x_i);
                        const canvasY = mapY(y_i);
                        const rectWidth = mapX(a + deltaX) - mapX(a);
                        const rectHeight = canvasHeight - canvasY;
                        
                        ctx.fillRect(canvasX, canvasY, rectWidth, rectHeight);
                        ctx.strokeRect(canvasX, canvasY, rectWidth, rectHeight);
                    }

                    ctx.beginPath();
                    ctx.lineWidth = 3;
                    ctx.strokeStyle = '#DA70D6';
                    for (let x = a; x <= b; x += 0.01) {
                        ctx.lineTo(mapX(x), mapY(func(x)));
                    }
                    ctx.stroke();
                    
                    nValueSpan.textContent = n;
                    approxAreaSpan.textContent = approxArea.toFixed(4);
                }
                
                slider.addEventListener('input', function() {
                    drawRiemannSum(parseInt(this.value));
                });
                
                drawRiemannSum(parseInt(slider.value));
            }
        });
    </script>
</body>
</html>
